const pokemonDetail = document.getElementById('modal');

async function obterDetalhesPokemon(pokemon) {
    const apiUrl = `https://pokeapi.co/api/v2/pokemon/${pokemon}`;
  
    try {
        const response = await fetch(apiUrl);
  
        if (!response.ok) {
            throw new Error(`Erro ao obter detalhes do PokÃ©mon: ${response.status}`);
        }
  
        const pokemonData = await response.json();
        return [pokemonData];
    } catch (error) {
        console.error(error);
        throw error;
    }
}

async function loadPokemonModal(pokemon) {
    try {
        const newHtml = pokemon.map((pokemon) => `
        <div class="modal">
            <div class="modal-header">
                <img src="assets/icons/arrow-left.svg" alt="arrow-left">
                <span class="number-pokemon" id="number-pokemon">#${pokemon.id}</span>
                <img src="assets/icons/heart-favorite.svg" alt="heart-favorite">
            </div>

            <div class="modal-body">
                <div class="modal-info">
                    <span class="name">${pokemon.name}</span>
                    <div class="detail">
                        <ol class="types">
                            ${pokemon.types.map((type) => `<li class="type ${type.type.name}">${type.type.name}</li>`).join('')}
                        </ol>
                    </div>
                </div>
                <hr class="hr">
                <div class="modal-statistic"></div>
            </div>
            <div class="modal-footer">
                <button class="close" onclick="closeModal()">Fechar</button>
            </div>
        </div>
        `).join('');

        pokemonDetail.innerHTML = newHtml;
        pokemonDetail.classList.remove('hidden');

        return Promise.resolve();
    } catch (error) {
        console.error(error);
        return Promise.reject(error);
    }
}

function closeModal() {
    pokemonDetail.classList.add('hidden');
}
